{"ast":null,"code":"import _slicedToArray from \"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/AddRoom/index.js\";\nimport React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport api from '../../services/api';\nimport Themes from '../../global/Themes';\nimport config from '../../config';\nimport './style.css';\nconst socket = io(`${config.backend.url}`);\n\nfunction AddRoom() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        room = _useState2[0],\n        setRoom = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        floor = _useState4[0],\n        setFloor = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        file = _useState6[0],\n        setFile = _useState6[1];\n\n  async function handleAddRoom() {\n    if (room !== '' && floor !== '' && file !== '') {\n      const data = new FormData();\n      data.append('file', file, file.name);\n      data.append('room', room);\n      data.append('floor', floor);\n      const response = await api.post('/room', data);\n\n      if (response.status === 200) {\n        document.getElementById('submit').innerText = 'Sala Adicionada';\n        document.getElementById('submit').style.cssText = Themes.button.validated;\n        socket.emit('send-image', {\n          data: 'send-image'\n        });\n      } else {\n        document.getElementById('submit').innerText = `Error: ${(await response).status}`;\n        document.getElementById('submit').style.cssText = Themes.button.error;\n      }\n    } else {\n      document.getElementById('#incorret').innerText = \"Preencher todos os campos!!\";\n    }\n  }\n\n  return React.createElement(\"div\", {\n    id: \"contianerAddRoom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Adicionar Sala\"), React.createElement(\"input\", {\n    className: \"inputs\",\n    type: \"text\",\n    placeholder: \"N\\xFAmbero da sala\",\n    onChange: value => setRoom(value.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"inputs\",\n    type: \"text\",\n    placeholder: \"N\\xFAmero do andar\",\n    onChange: value => setFloor(value.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: value => setFile(value.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"incorret\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"submit\",\n    onClick: handleAddRoom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Enviar\")));\n}\n\nexport default AddRoom;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/AddRoom/index.js"],"names":["React","useState","io","api","Themes","config","socket","backend","url","AddRoom","room","setRoom","floor","setFloor","file","setFile","handleAddRoom","data","FormData","append","name","response","post","status","document","getElementById","innerText","style","cssText","button","validated","emit","error","value","target","files"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAO,aAAP;AAEA,MAAMC,MAAM,GAAGJ,EAAE,CAAE,GAAEG,MAAM,CAACE,OAAP,CAAeC,GAAI,EAAvB,CAAjB;;AAEA,SAASC,OAAT,GAAmB;AAAA,oBACWR,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,QACPS,IADO;AAAA,QACDC,OADC;;AAAA,qBAEYV,QAAQ,CAAC,EAAD,CAFpB;AAAA;AAAA,QAEPW,KAFO;AAAA,QAEAC,QAFA;;AAAA,qBAGWZ,QAAQ,CAAC,EAAD,CAHnB;AAAA;AAAA,QAGPa,IAHO;AAAA,QAGDC,OAHC;;AAKf,iBAAeC,aAAf,GAA+B;AAE7B,QAAIN,IAAI,KAAK,EAAT,IAAgBE,KAAK,KAAI,EAAzB,IAA+BE,IAAI,KAAK,EAA5C,EAA+C;AACzC,YAAMG,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,MAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAmBL,IAAnB,EAAwBA,IAAI,CAACM,IAA7B;AACAH,MAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBT,IAApB;AACAO,MAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBP,KAArB;AAEA,YAAMS,QAAQ,GAAG,MAAMlB,GAAG,CAACmB,IAAJ,CAAS,OAAT,EAAkBL,IAAlB,CAAvB;;AAEA,UAAGI,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACvBC,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA8C,iBAA9C;AACAF,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCE,KAAlC,CAAwCC,OAAxC,GAAkDxB,MAAM,CAACyB,MAAP,CAAcC,SAAhE;AAEAxB,QAAAA,MAAM,CAACyB,IAAP,CAAY,YAAZ,EAA2B;AAAEd,UAAAA,IAAI,EAAE;AAAR,SAA3B;AAKH,OATD,MASM;AACJO,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA+C,UAAS,CAAC,MAAML,QAAP,EAAiBE,MAAO,EAAhF;AACAC,QAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCE,KAAlC,CAAwCC,OAAxC,GAAkDxB,MAAM,CAACyB,MAAP,CAAcG,KAAhE;AACD;AACN,KArBD,MAqBM;AACJR,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,GAAiD,6BAAjD;AACD;AAEF;;AAED,SACE;AAAK,IAAA,EAAE,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADH,EAEG;AAAO,IAAA,SAAS,EAAC,QAAjB;AAA0B,IAAA,IAAI,EAAC,MAA/B;AAAsC,IAAA,WAAW,EAAC,oBAAlD;AAAoE,IAAA,QAAQ,EAAEO,KAAK,IAAItB,OAAO,CAACsB,KAAK,CAACC,MAAN,CAAaD,KAAd,CAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,EAGG;AAAO,IAAA,SAAS,EAAC,QAAjB;AAA0B,IAAA,IAAI,EAAC,MAA/B;AAAsC,IAAA,WAAW,EAAC,oBAAlD;AAAoE,IAAA,QAAQ,EAAEA,KAAK,IAAIpB,QAAQ,CAACoB,KAAK,CAACC,MAAN,CAAaD,KAAd,CAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHH,EAIG;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,QAAQ,EAAEA,KAAK,IAAIlB,OAAO,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJH,EAKG;AAAG,IAAA,EAAE,EAAC,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALH,EAMG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,EAAE,EAAC,QAAX;AAAoB,IAAA,OAAO,EAAEnB,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CANH,CADF;AAYH;;AAED,eAAeP,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client'\nimport api from '../../services/api'\nimport Themes from '../../global/Themes'\nimport config from '../../config'\n\nimport './style.css'\n\nconst socket = io(`${config.backend.url}`)\n\nfunction AddRoom() {\n    const [ room, setRoom ] = useState('')\n    const [ floor, setFloor] = useState('')\n    const [ file, setFile ] = useState('')\n\n    async function handleAddRoom (){\n\n      if (room !== ''  && floor !=='' && file !== ''){\n            const data = new FormData()\n            data.append('file',file,file.name)\n            data.append('room', room)\n            data.append('floor', floor)\n\n            const response = await api.post('/room', data)\n\n            if(response.status === 200){\n                document.getElementById('submit').innerText = 'Sala Adicionada'\n                document.getElementById('submit').style.cssText = Themes.button.validated\n\n                socket.emit('send-image',  { data: 'send-image' } )\n\n              \n\n\n            }else {\n              document.getElementById('submit').innerText = `Error: ${(await response).status}`\n              document.getElementById('submit').style.cssText = Themes.button.error\n            }\n      }else {\n        document.getElementById('#incorret').innerText = \"Preencher todos os campos!!\"\n      }\n        \n    }\n    \n    return (\n      <div id=\"contianerAddRoom\">\n         <h2>Adicionar Sala</h2>\n         <input className='inputs' type=\"text\" placeholder=\"Númbero da sala\" onChange={value => setRoom(value.target.value)} />\n         <input className='inputs' type=\"text\" placeholder=\"Número do andar\" onChange={value => setFloor(value.target.value)} />\n         <input type=\"file\" name=\"file\" onChange={value => setFile(value.target.files[0])} />\n         <p id=\"incorret\"></p>\n         <div>\n             <button id=\"submit\" onClick={handleAddRoom} >Enviar</button>\n         </div>\n      </div>    \n    );\n}\n\nexport default AddRoom;\n\n\n"]},"metadata":{},"sourceType":"module"}