{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import history from'../../global/history';import api from'../../services/api';import'./style.css';function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),version=_useState6[0],setVersion=_useState6[1];sessionStorage.setItem('username',username);sessionStorage.setItem('password',password);useEffect(function(){function github(){var response;return _regeneratorRuntime.async(function github$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(api.get('https://raw.githubusercontent.com/jadson179/PAINEL/master/frontend/package.json'));case 2:response=_context.sent;setVersion(response.data.version);case 4:case\"end\":return _context.stop();}}});}github();},[]);function Auth(){api.post('/user/auth',{username:username,password:password}).then(function(resp){var _resp$data=resp.data,UserName=_resp$data.UserName,UserPassword=_resp$data.UserPassword,UserType=_resp$data.UserType;console.log(UserName,UserPassword);if(username===UserName&&password===UserPassword){sessionStorage.setItem('status',true);sessionStorage.setItem('usertype',UserType);history.push('/admin');}}).catch(function(error){console.log(error);});}return React.createElement(React.Fragment,null,React.createElement(\"div\",{id:\"containerLogin\"},React.createElement(\"div\",{id:\"box-login\"},React.createElement(\"header\",null,React.createElement(\"h2\",null,\"Login\")),React.createElement(\"main\",null,React.createElement(\"input\",{type:\"text\",placeholder:\"Usuario\",onChange:function onChange(username){return setUsername(username.target.value);},autoFocus:true,required:true}),React.createElement(\"input\",{type:\"password\",placeholder:\"Senha\",onChange:function onChange(password){return setPassword(password.target.value);},required:true})),React.createElement(\"div\",{id:\"area-buttons\"},React.createElement(\"button\",{onClick:Auth},\"Acessar\"))),React.createElement(\"span\",null,\"vers\\xE3o: \",version)));}export default Login;","map":{"version":3,"sources":["/home/jadson/repository/PAINEL/frontend/src/components/Login/index.js"],"names":["React","useState","useEffect","history","api","Login","username","setUsername","password","setPassword","version","setVersion","sessionStorage","setItem","github","get","response","data","Auth","post","then","resp","UserName","UserPassword","UserType","console","log","push","catch","error","target","value"],"mappings":"mTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CAEA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAO,aAAP,CAEA,QAASC,CAAAA,KAAT,EAAiB,eAEiBJ,QAAQ,CAAC,EAAD,CAFzB,wCAERK,QAFQ,eAEEC,WAFF,8BAGiBN,QAAQ,CAAC,EAAD,CAHzB,yCAGRO,QAHQ,eAGEC,WAHF,8BAIeR,QAAQ,CAAC,EAAD,CAJvB,yCAIRS,OAJQ,eAICC,UAJD,eAMfC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCP,QAAlC,EACAM,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCL,QAAlC,EAEAN,SAAS,CAAC,UAAI,CACZ,QAAeY,CAAAA,MAAf,iLACyBV,GAAG,CAACW,GAAJ,CAAQ,iFAAR,CADzB,SACQC,QADR,eAGEL,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAcP,OAAf,CAAV,CAHF,8CAKAI,MAAM,GAEP,CARQ,CAQP,EARO,CAAT,CASF,QAASI,CAAAA,IAAT,EAAgB,CACXd,GAAG,CAACe,IAAJ,CAAS,YAAT,CAAuB,CAAEb,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAvB,EACCY,IADD,CACM,SAAAC,IAAI,CAAI,gBACiCA,IAAI,CAACJ,IADtC,CACJK,QADI,YACJA,QADI,CACMC,YADN,YACMA,YADN,CACqBC,QADrB,YACqBA,QADrB,CAEZC,OAAO,CAACC,GAAR,CAAYJ,QAAZ,CAAsBC,YAAtB,EAEA,GAAGjB,QAAQ,GAAKgB,QAAb,EAAyBd,QAAQ,GAAKe,YAAzC,CAAsD,CACpDX,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAiC,IAAjC,EACAD,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCW,QAAlC,EACArB,OAAO,CAACwB,IAAR,CAAa,QAAb,EACD,CACF,CAVD,EAWCC,KAXD,CAWO,SAAAC,KAAK,CAAG,CACbJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,EACD,CAbD,EAeF,CAEC,MACE,yCACA,2BAAK,EAAE,CAAC,gBAAR,EACE,2BAAK,EAAE,CAAC,WAAR,EACE,kCACI,sCADJ,CADF,CAIE,gCACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,SAA/B,CAAyC,QAAQ,CAAE,kBAAAvB,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACwB,MAAT,CAAgBC,KAAjB,CAAf,EAA3D,CAAmG,SAAS,KAA5G,CAA6G,QAAQ,KAArH,EADF,CAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,OAAnC,CAA2C,QAAQ,CAAE,kBAAAvB,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACsB,MAAT,CAAgBC,KAAjB,CAAf,EAA7D,CAAqG,QAAQ,KAA7G,EAFF,CAJF,CAQE,2BAAK,EAAE,CAAC,cAAR,EACA,8BAAQ,OAAO,CAAEb,IAAjB,YADA,CARF,CADF,CAaE,8CACWR,OADX,CAbF,CADA,CADF,CAqBH,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\n\nimport history from '../../global/history'\nimport api from '../../services/api'\nimport './style.css'\n\nfunction Login() {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [version, setVersion] = useState('')\n\n  sessionStorage.setItem('username',username)\n  sessionStorage.setItem('password',password)\n\n  useEffect(()=>{\n    async function github(){\n      const response = await api.get('https://raw.githubusercontent.com/jadson179/PAINEL/master/frontend/package.json')\n      \n      setVersion(response.data.version)\n    }\n    github()\n      \n  },[])\nfunction Auth() { \n     api.post('/user/auth', { username, password })\n     .then(resp => { \n       const { UserName, UserPassword , UserType} = resp.data\n       console.log(UserName, UserPassword)\n\n       if(username === UserName && password === UserPassword){\n         sessionStorage.setItem('status', true)\n         sessionStorage.setItem('usertype',UserType)\n         history.push('/admin')\n       }\n     })\n     .catch(error =>{\n       console.log(error)\n     })\n  \n  }\n\n    return (\n      <>\n      <div id=\"containerLogin\">\n        <div id=\"box-login\">\n          <header>\n              <h2>Login</h2>          \n          </header>\n          <main>\n            <input type=\"text\" placeholder=\"Usuario\" onChange={username => setUsername(username.target.value)} autoFocus required />\n            <input type=\"password\" placeholder=\"Senha\" onChange={password => setPassword(password.target.value)} required />\n          </main>\n          <div id=\"area-buttons\">\n          <button onClick={Auth}>Acessar</button>\n          </div>\n        </div>\n        <span>\n          vers√£o: {version} \n        </span>\n      </div>\n      </>\n    );\n}\n\nexport default Login;\n\n\n"]},"metadata":{},"sourceType":"module"}