{"ast":null,"code":"import _slicedToArray from \"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/UpdateRoom/index.js\";\nimport React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport api from '../../services/api';\nimport Themes from '../../global/Themes';\nimport config from '../../config';\nimport './style.css';\nconst socket = io(`${config.backend.url}`);\n\nfunction UpdateRoom() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        room = _useState2[0],\n        setRoom = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        file = _useState4[0],\n        setFile = _useState4[1];\n\n  async function handleUpdateRoom() {\n    if (room !== '' && file !== '') {\n      const data = new FormData();\n      data.append('file', file, file.name);\n      data.append('room', room);\n      sessionStorage.setItem('update', Math.floor());\n      const response = await api.put('/room', data);\n\n      if (response.status === 200) {\n        document.getElementById('submit').innerText = 'Sala Atualizada';\n        document.getElementById('submit').style.cssText = Themes.button.validated;\n        socket.emit('send-image', {\n          data: 'send-image'\n        });\n        setInterval(() => {\n          document.getElementById('submit').innerText = 'Enviar';\n          document.getElementById('submit').style.cssText = Themes.button.reset;\n        }, 300);\n      } else {\n        document.getElementById('submit').innerText = `Error: ${response.status}`;\n        document.getElementById('submit').style.cssText = Themes.button.error;\n      }\n    } else {\n      document.getElementById('incorret').innerText = \"Preencher todos os campos!!\";\n    }\n  }\n\n  return React.createElement(\"div\", {\n    id: \"contianerUpdateRoom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Atualizar Sala\"), React.createElement(\"input\", {\n    className: \"inputs\",\n    type: \"text\",\n    placeholder: \"N\\xFAmero da sala\",\n    onChange: value => setRoom(value.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: value => setFile(value.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"incorret\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"submit\",\n    onClick: handleUpdateRoom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Enviar\")));\n}\n\nexport default UpdateRoom;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/UpdateRoom/index.js"],"names":["React","useState","io","api","Themes","config","socket","backend","url","UpdateRoom","room","setRoom","file","setFile","handleUpdateRoom","data","FormData","append","name","sessionStorage","setItem","Math","floor","response","put","status","document","getElementById","innerText","style","cssText","button","validated","emit","setInterval","reset","error","value","target","files"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport api from '../../services/api'\nimport Themes from '../../global/Themes'\nimport config from '../../config'\n\nimport './style.css'\n\nconst socket = io(`${config.backend.url}`)\n\n\nfunction UpdateRoom() {\n    const [room, setRoom] = useState('')  \n    const [file, setFile] = useState('')  \n\n    async function handleUpdateRoom (){\n    \n        if (room !== '' && file !== ''){\n\n            const data = new FormData()\n            data.append('file',file,file.name)\n            data.append('room', room)\n            \n            sessionStorage.setItem('update', Math.floor())\n\n            const response = await api.put('/room', data)\n         \n            if(response.status === 200){\n                document.getElementById('submit').innerText = 'Sala Atualizada'\n                document.getElementById('submit').style.cssText = Themes.button.validated\n\n                socket.emit('send-image',  { data: 'send-image' } )\n\n                setInterval(()=>{\n                    document.getElementById('submit').innerText = 'Enviar'\n                    document.getElementById('submit').style.cssText = Themes.button.reset\n                  },300)\n                  \n            }else {\n                document.getElementById('submit').innerText = `Error: ${response.status}`\n                document.getElementById('submit').style.cssText = Themes.button.error\n                }\n        }else{\n            document.getElementById('incorret').innerText = \"Preencher todos os campos!!\"\n        }\n    }\n    return (\n      <div id=\"contianerUpdateRoom\">\n         <h2>Atualizar Sala</h2>\n         <input className='inputs' type=\"text\" placeholder=\"NÃºmero da sala\" onChange={value => setRoom(value.target.value)} />\n         <input type=\"file\" name=\"file\" onChange={value => setFile(value.target.files[0])} />\n         <p id=\"incorret\"></p>\n         <div>\n             <button id=\"submit\" onClick={handleUpdateRoom} >Enviar</button>\n         </div>\n      </div>    \n    );\n}\n\nexport default UpdateRoom;\n\n\n"]},"metadata":{},"sourceType":"module"}