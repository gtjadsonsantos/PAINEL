{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import io from'socket.io-client';import api from'../../services/api';import Themes from'../../global/Themes';import config from'../../config';import'./style.css';var socket=io(\"\".concat(config.backend.url));function AddRoom(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),floor=_useState4[0],setFloor=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];function handleAddRoom(){var data,response;return _regeneratorRuntime.async(function handleAddRoom$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(room!==''&&floor!==''&&file!=='')){_context.next=23;break;}data=new FormData();data.append('file',file,file.name);data.append('room',room);data.append('floor',floor);_context.next=7;return _regeneratorRuntime.awrap(api.post('/room',data));case 7:response=_context.sent;if(!(response.status===200)){_context.next=15;break;}document.getElementById('submit').innerText='Sala Adicionada';document.getElementById('submit').style.cssText=Themes.button.validated;socket.emit('send-image',{data:'send-image'});setInterval(function(){document.getElementById('submit').innerText='Enviar';document.getElementById('submit').style.cssText=Themes.button.reset;},300);_context.next=21;break;case 15:_context.t0=\"Error: \";_context.next=18;return _regeneratorRuntime.awrap(response);case 18:_context.t1=_context.sent.status;document.getElementById('submit').innerText=_context.t0.concat.call(_context.t0,_context.t1);document.getElementById('submit').style.cssText=Themes.button.error;case 21:_context.next=24;break;case 23:document.getElementById('#incorret').innerText=\"Preencher todos os campos!!\";case 24:case\"end\":return _context.stop();}}});}return React.createElement(\"div\",{id:\"contianerAddRoom\"},React.createElement(\"h2\",null,\"Adicionar Sala\"),React.createElement(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"N\\xFAmbero da sala\",onChange:function onChange(value){return setRoom(value.target.value);}}),React.createElement(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"N\\xFAmero do andar\",onChange:function onChange(value){return setFloor(value.target.value);}}),React.createElement(\"input\",{type:\"file\",name:\"file\",onChange:function onChange(value){return setFile(value.target.files[0]);}}),React.createElement(\"p\",{id:\"incorret\"}),React.createElement(\"div\",null,React.createElement(\"button\",{id:\"submit\",onClick:handleAddRoom},\"Enviar\")));}export default AddRoom;","map":{"version":3,"sources":["/home/jadson/repository/PAINEL/frontend/src/components/AddRoom/index.js"],"names":["React","useState","io","api","Themes","config","socket","backend","url","AddRoom","room","setRoom","floor","setFloor","file","setFile","handleAddRoom","data","FormData","append","name","post","response","status","document","getElementById","innerText","style","cssText","button","validated","emit","setInterval","reset","error","value","target","files"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client'\nimport api from '../../services/api'\nimport Themes from '../../global/Themes'\nimport config from '../../config'\n\nimport './style.css'\n\nconst socket = io(`${config.backend.url}`)\n\nfunction AddRoom() {\n    const [ room, setRoom ] = useState('')\n    const [ floor, setFloor] = useState('')\n    const [ file, setFile ] = useState('')\n\n    async function handleAddRoom (){\n        // Simula uma estrutura de formulário via javascript\n      if (room !== ''  && floor !=='' && file !== ''){\n            const data = new FormData()\n            data.append('file',file,file.name)\n            data.append('room', room)\n            data.append('floor', floor)\n\n            const response = await api.post('/room', data)\n\n            if(response.status === 200){\n                document.getElementById('submit').innerText = 'Sala Adicionada'\n                document.getElementById('submit').style.cssText = Themes.button.validated\n\n                socket.emit('send-image',  { data: 'send-image' } )\n\n                setInterval(()=>{\n                  document.getElementById('submit').innerText = 'Enviar'\n                  document.getElementById('submit').style.cssText = Themes.button.reset\n                },300)\n\n\n            }else {\n              document.getElementById('submit').innerText = `Error: ${(await response).status}`\n              document.getElementById('submit').style.cssText = Themes.button.error\n            }\n      }else {\n        document.getElementById('#incorret').innerText = \"Preencher todos os campos!!\"\n      }\n        \n    }\n    \n    return (\n      <div id=\"contianerAddRoom\">\n         <h2>Adicionar Sala</h2>\n         <input className='inputs' type=\"text\" placeholder=\"Númbero da sala\" onChange={value => setRoom(value.target.value)} />\n         <input className='inputs' type=\"text\" placeholder=\"Número do andar\" onChange={value => setFloor(value.target.value)} />\n         <input type=\"file\" name=\"file\" onChange={value => setFile(value.target.files[0])} />\n         <p id=\"incorret\"></p>\n         <div>\n             <button id=\"submit\" onClick={handleAddRoom} >Enviar</button>\n         </div>\n      </div>    \n    );\n}\n\nexport default AddRoom;\n\n\n"]},"metadata":{},"sourceType":"module"}