{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import io from'socket.io-client';import api from'../../services/api';import config from'../../config';import CardRoom from'../CardRoom';import LogoCostumer from'../LogoCostumer';import'./style.css';var socket=io(\"\".concat(config.backend.url));function Sessao(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),floors=_useState2[0],setFloors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ordernFloor=_useState4[0],setordernFloor=_useState4[1];useEffect(function(){function getFloors(){return _getFloors.apply(this,arguments);}function _getFloors(){_getFloors=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$api$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get('/floors');case 2:_yield$api$get=_context.sent;data=_yield$api$get.data;setFloors(data.results);setordernFloor(data.query);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getFloors.apply(this,arguments);}getFloors();},[]);useEffect(function(){socket.on('update',function(obj){if(obj.action===\"update-window\"){window.location.reload();}});},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(LogoCostumer,null),/*#__PURE__*/React.createElement(\"div\",{id:\"container\"},ordernFloor.map(function(floor){return/*#__PURE__*/React.createElement(\"ul\",{key:floor.NumberFloor,className:\"floors\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"title darkblue\"},floor.NumberFloor,\"\\xBA ANDAR\"),/*#__PURE__*/React.createElement(CardRoom,{floor:floors.filter(function(room){return room.NumberFloor===floor.NumberFloor;})}));})));}export default Sessao;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL/frontend/src/components/Sections/section.js"],"names":["React","useState","useEffect","io","api","config","CardRoom","LogoCostumer","socket","backend","url","Sessao","floors","setFloors","ordernFloor","setordernFloor","getFloors","get","data","results","query","on","obj","action","window","location","reload","map","floor","NumberFloor","filter","room"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CAEA,MAAO,aAAP,CAEA,GAAMC,CAAAA,MAAM,CAAGL,EAAE,WAAIE,MAAM,CAACI,OAAP,CAAeC,GAAnB,EAAjB,CAEA,QAASC,CAAAA,MAAT,EAAkB,eACYV,QAAQ,CAAC,EAAD,CADpB,wCACTW,MADS,eACDC,SADC,8BAEsBZ,QAAQ,CAAC,EAAD,CAF9B,yCAETa,WAFS,eAEIC,cAFJ,eAGhBb,SAAS,CAAC,UAAM,SACCc,CAAAA,SADD,qIACd,iLACyBZ,CAAAA,GAAG,CAACa,GAAJ,CAAQ,SAAR,CADzB,qCACUC,IADV,gBACUA,IADV,CAEIL,SAAS,CAACK,IAAI,CAACC,OAAN,CAAT,CACFJ,cAAc,CAACG,IAAI,CAACE,KAAN,CAAd,CAHF,sDADc,4CAOdJ,SAAS,GACV,CARQ,CAQN,EARM,CAAT,CAUAd,SAAS,CAAC,UAAM,CACdM,MAAM,CAACa,EAAP,CAAU,QAAV,CAAoB,SAAAC,GAAG,CAAI,CACzB,GAAIA,GAAG,CAACC,MAAJ,GAAe,eAAnB,CAAoC,CAClCC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,CAJD,EAKD,CANQ,CAMN,EANM,CAAT,CAOA,mBACE,qDACC,oBAAC,YAAD,MADD,cAEE,2BAAK,EAAE,CAAC,WAAR,EAEIZ,WAAW,CAACa,GAAZ,CAAgB,SAAAC,KAAK,qBACnB,0BAAI,GAAG,CAAEA,KAAK,CAACC,WAAf,CAA4B,SAAS,CAAC,QAAtC,eACE,0BAAI,SAAS,CAAC,gBAAd,EAAiCD,KAAK,CAACC,WAAvC,cADF,cAEE,oBAAC,QAAD,EAAU,KAAK,CAAEjB,MAAM,CAACkB,MAAP,CAAc,SAAAC,IAAI,QAAKA,CAAAA,IAAI,CAACF,WAAL,GAAqBD,KAAK,CAACC,WAAhC,EAAlB,CAAjB,EAFF,CADmB,EAArB,CAFJ,CAFF,CADF,CAgBD,CAED,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport api from '../../services/api'\nimport config from '../../config'\n\nimport CardRoom from '../CardRoom'\nimport LogoCostumer from '../LogoCostumer'\n\nimport './style.css';\n\nconst socket = io(`${config.backend.url}`)\n\nfunction Sessao() {\n  const [floors, setFloors] = useState([])\n  const [ordernFloor, setordernFloor] = useState([])\n  useEffect(() => {\n    async function getFloors() {\n      const { data } = await api.get('/floors')\n        setFloors(data.results)\n      setordernFloor(data.query)\n\n    }\n    getFloors()\n  }, [])\n\n  useEffect(() => {\n    socket.on('update', obj => {\n      if (obj.action === \"update-window\") {\n        window.location.reload()\n      }\n    })\n  }, [])\n  return (\n    <>\n     <LogoCostumer />\n      <div id=\"container\" >\n        {\n          ordernFloor.map(floor => (\n            <ul key={floor.NumberFloor} className=\"floors\" >\n              <h2 className=\"title darkblue\" >{floor.NumberFloor}ยบ ANDAR</h2>\n              <CardRoom floor={floors.filter(room => (room.NumberFloor === floor.NumberFloor))} />\n            </ul>\n          ))\n        }\n      </div>\n\n    </>\n  );\n}\n\nexport default Sessao;"]},"metadata":{},"sourceType":"module"}