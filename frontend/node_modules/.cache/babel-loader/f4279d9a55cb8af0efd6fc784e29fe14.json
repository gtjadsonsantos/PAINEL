{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import io from'socket.io-client';import api from'../../services/api';import config from'../../config';import handleActionAlert from'../../global/handleActionAlert';import'./style.css';var socket=io(\"\".concat(config.backend.url));function AddRoom(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),floor=_useState4[0],setFloor=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];function handleAddRoom(){var form,_ref,data;return _regeneratorRuntime.async(function handleAddRoom$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(room!==''&&floor!==''&&file!=='')){_context.next=10;break;}form=new FormData();form.append('file',file,file.name);form.append('room',room);form.append('numberfloor',floor);_context.next=7;return _regeneratorRuntime.awrap(api.post('/room',form,{headers:{authorization:\"Bearer \".concat(sessionStorage.getItem('token'))}}));case 7:_ref=_context.sent;data=_ref.data;if(data.status===\"Success in create room\"){socket.emit('send-image',{data:'send-image'});handleActionAlert(\"Sucesso em Criar Sala\",'flex','green');}else{handleActionAlert(\"Falha em Criar Sala\",'flex','red');}case 10:case\"end\":return _context.stop();}}});}return React.createElement(\"div\",{id:\"contianerAddRoom\"},React.createElement(\"h2\",null,\"Adicionar Sala\"),React.createElement(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"N\\xFAmbero da sala\",onChange:function onChange(value){return setRoom(value.target.value);}}),React.createElement(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"N\\xFAmero do andar\",onChange:function onChange(value){return setFloor(value.target.value);}}),React.createElement(\"input\",{type:\"file\",name:\"file\",onChange:function onChange(value){return setFile(value.target.files[0]);}}),React.createElement(\"p\",{id:\"incorret\"}),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"buttons\",onClick:handleAddRoom},\"Enviar\")));}export default AddRoom;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/AddRoom/index.js"],"names":["React","useState","io","api","config","handleActionAlert","socket","backend","url","AddRoom","room","setRoom","floor","setFloor","file","setFile","handleAddRoom","form","FormData","append","name","post","headers","authorization","sessionStorage","getItem","data","status","emit","value","target","files"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CAEA,MAAO,aAAP,CAEA,GAAMC,CAAAA,MAAM,CAAGJ,EAAE,WAAIE,MAAM,CAACG,OAAP,CAAeC,GAAnB,EAAjB,CAEA,QAASC,CAAAA,OAAT,EAAmB,eACOR,QAAQ,CAAC,EAAD,CADf,wCACVS,IADU,eACJC,OADI,8BAESV,QAAQ,CAAC,EAAD,CAFjB,yCAEVW,KAFU,eAEHC,QAFG,8BAGOZ,QAAQ,CAAC,EAAD,CAHf,yCAGVa,IAHU,eAGJC,OAHI,eAKjB,QAAeC,CAAAA,aAAf,kJAEMN,IAAI,GAAK,EAAT,EAAeE,KAAK,GAAK,EAAzB,EAA+BE,IAAI,GAAK,EAF9C,2BAGUG,IAHV,CAGiB,GAAIC,CAAAA,QAAJ,EAHjB,CAIID,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBL,IAApB,CAA0BA,IAAI,CAACM,IAA/B,EACAH,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBT,IAApB,EACAO,IAAI,CAACE,MAAL,CAAY,aAAZ,CAA2BP,KAA3B,EANJ,iDAQyBT,GAAG,CAACkB,IAAJ,CAAS,OAAT,CAAkBJ,IAAlB,CAAwB,CAC3CK,OAAO,CAAE,CACPC,aAAa,kBAAYC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CADN,CADkC,CAAxB,CARzB,4BAQWC,IARX,MAQWA,IARX,CAcI,GAAIA,IAAI,CAACC,MAAL,GAAgB,wBAApB,CAA+C,CAE7CrB,MAAM,CAACsB,IAAP,CAAY,YAAZ,CAA0B,CAAEF,IAAI,CAAE,YAAR,CAA1B,EACArB,iBAAiB,CAAC,uBAAD,CAAyB,MAAzB,CAAgC,OAAhC,CAAjB,CAED,CALD,IAKM,CACFA,iBAAiB,CAAC,qBAAD,CAAuB,MAAvB,CAA8B,KAA9B,CAAjB,CACH,CArBL,+CA2BA,MACE,4BAAK,EAAE,CAAC,kBAAR,EACE,+CADF,CAEE,6BAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,WAAW,CAAC,oBAAlD,CAAoE,QAAQ,CAAE,kBAAAwB,KAAK,QAAIlB,CAAAA,OAAO,CAACkB,KAAK,CAACC,MAAN,CAAaD,KAAd,CAAX,EAAnF,EAFF,CAGE,6BAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,WAAW,CAAC,oBAAlD,CAAoE,QAAQ,CAAE,kBAAAA,KAAK,QAAIhB,CAAAA,QAAQ,CAACgB,KAAK,CAACC,MAAN,CAAaD,KAAd,CAAZ,EAAnF,EAHF,CAIE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,CAAE,kBAAAA,KAAK,QAAId,CAAAA,OAAO,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAX,EAA9C,EAJF,CAKE,yBAAG,EAAE,CAAC,UAAN,EALF,CAME,+BACE,8BAAQ,SAAS,CAAC,SAAlB,CAA6B,OAAO,CAAEf,aAAtC,WADF,CANF,CADF,CAYD,CAED,cAAeP,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client'\nimport api from '../../services/api'\nimport config from '../../config'\nimport handleActionAlert from '../../global/handleActionAlert'\n\nimport './style.css'\n\nconst socket = io(`${config.backend.url}`)\n\nfunction AddRoom() {\n  const [room, setRoom] = useState('')\n  const [floor, setFloor] = useState('')\n  const [file, setFile] = useState('')\n\n  async function handleAddRoom() {\n\n    if (room !== '' && floor !== '' && file !== '') {\n      const form = new FormData()\n      form.append('file', file, file.name)\n      form.append('room', room)\n      form.append('numberfloor', floor)\n\n      const {data} = await api.post('/room', form, {\n        headers: {\n          authorization: `Bearer ${sessionStorage.getItem('token')}`\n        }\n      })\n\n      if (data.status === \"Success in create room\" ) {\n\n        socket.emit('send-image', { data: 'send-image' })\n        handleActionAlert(\"Sucesso em Criar Sala\",'flex','green')\n\n      }else {\n          handleActionAlert(\"Falha em Criar Sala\",'flex','red')\n      }\n\n    }\n\n  }\n\n  return (\n    <div id=\"contianerAddRoom\">\n      <h2>Adicionar Sala</h2>\n      <input className='inputs' type=\"text\" placeholder=\"Númbero da sala\" onChange={value => setRoom(value.target.value)} />\n      <input className='inputs' type=\"text\" placeholder=\"Número do andar\" onChange={value => setFloor(value.target.value)} />\n      <input type=\"file\" name=\"file\" onChange={value => setFile(value.target.files[0])} />\n      <p id=\"incorret\"></p>\n      <div>\n        <button className=\"buttons\"  onClick={handleAddRoom} >Enviar</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AddRoom;\n\n\n"]},"metadata":{},"sourceType":"module"}