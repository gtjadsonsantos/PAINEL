{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jadson/Downloads/repositories/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import history from'../../global/history';import api from'../../services/api';import'./style.css';function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];sessionStorage.setItem('username',username);sessionStorage.setItem('password',password);function Auth(){return _Auth.apply(this,arguments);}function _Auth(){_Auth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$api$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(username!==''&&password!=='')){_context.next=6;break;}_context.next=3;return api.post('/user/auth',{username:username,password:password});case 3:_yield$api$post=_context.sent;data=_yield$api$post.data;if(data.token){sessionStorage.setItem('token',data.token);history.push('/admin');}else{console.log(data);}case 6:case\"end\":return _context.stop();}}},_callee);}));return _Auth.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"containerLogin\"},/*#__PURE__*/React.createElement(\"div\",{id:\"box-login\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"primary-text-color\"},\"Login\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Usuario\",onChange:function onChange(username){return setUsername(username.target.value);},autoFocus:true,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Senha\",onChange:function onChange(password){return setPassword(password.target.value);},required:true})),/*#__PURE__*/React.createElement(\"div\",{id:\"area-buttons\"},/*#__PURE__*/React.createElement(\"button\",{className:\"buttons\",onClick:Auth},\"Acessar\")))));}export default Login;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL/frontend/src/components/Login/index.js"],"names":["React","useState","history","api","Login","username","setUsername","password","setPassword","sessionStorage","setItem","Auth","post","data","token","push","console","log","target","value"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+B,OAA/B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAO,aAAP,CAEA,QAASC,CAAAA,KAAT,EAAiB,eAEiBH,QAAQ,CAAC,EAAD,CAFzB,wCAERI,QAFQ,eAEEC,WAFF,8BAGiBL,QAAQ,CAAC,EAAD,CAHzB,yCAGRM,QAHQ,eAGEC,WAHF,eAKfC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCL,QAAlC,EACAI,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCH,QAAlC,EANe,QAQFI,CAAAA,IARE,sHAQjB,iKACON,QAAQ,GAAK,EAAb,EAAmBE,QAAQ,GAAK,EADvC,gDAE2BJ,CAAAA,GAAG,CAACS,IAAJ,CAAS,YAAT,CAAuB,CAAEP,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAvB,CAF3B,sCAEaM,IAFb,iBAEaA,IAFb,CAIM,GAAGA,IAAI,CAACC,KAAR,CAAe,CACbL,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAA+BG,IAAI,CAACC,KAApC,EACAZ,OAAO,CAACa,IAAR,CAAa,QAAb,EACD,CAHD,IAGM,CACJC,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACD,CATP,sDARiB,uCAoBb,mBACE,qDACA,2BAAK,SAAS,CAAC,gBAAf,eACE,2BAAK,EAAE,CAAC,WAAR,eACE,+CACI,0BAAK,SAAS,CAAC,oBAAf,UADJ,CADF,cAIE,6CACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,SAA/B,CAAyC,QAAQ,CAAE,kBAAAR,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACa,MAAT,CAAgBC,KAAjB,CAAf,EAA3D,CAAmG,SAAS,KAA5G,CAA6G,QAAQ,KAArH,EADF,cAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,OAAnC,CAA2C,QAAQ,CAAE,kBAAAZ,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACW,MAAT,CAAgBC,KAAjB,CAAf,EAA7D,CAAqG,QAAQ,KAA7G,EAFF,CAJF,cAQE,2BAAK,EAAE,CAAC,cAAR,eACA,8BAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAER,IAArC,YADA,CARF,CADF,CADA,CADF,CAkBH,CAED,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useState} from 'react';\n\nimport history from '../../global/history'\nimport api from '../../services/api'\nimport './style.css'\n\nfunction Login() {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  sessionStorage.setItem('username',username)\n  sessionStorage.setItem('password',password)\n\nasync function Auth() { \n    if(username !== '' && password !== ''){\n      const {data} = await api.post('/user/auth', { username, password })\n\n      if(data.token) { \n        sessionStorage.setItem('token',data.token)\n        history.push('/admin')\n      }else {\n        console.log(data)\n      }\n    } \n  }\n    return (\n      <>\n      <div className=\"containerLogin\">\n        <div id=\"box-login\">\n          <header>\n              <h2  className=\"primary-text-color\">Login</h2>          \n          </header>\n          <main>\n            <input type=\"text\" placeholder=\"Usuario\" onChange={username => setUsername(username.target.value)} autoFocus required />\n            <input type=\"password\" placeholder=\"Senha\" onChange={password => setPassword(password.target.value)} required />\n          </main>\n          <div id=\"area-buttons\">\n          <button className=\"buttons\" onClick={Auth}>Acessar</button>\n          </div>\n        </div>  \n      </div>\n      </>\n    );\n}\n\nexport default Login;\n\n\n"]},"metadata":{},"sourceType":"module"}