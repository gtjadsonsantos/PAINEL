{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import history from'../../global/history';import api from'../../services/api';import'./style.css';function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),version=_useState6[0],setVersion=_useState6[1];sessionStorage.setItem('username',username);sessionStorage.setItem('password',password);useEffect(function(){function github(){var response;return _regeneratorRuntime.async(function github$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(api.get('https://raw.githubusercontent.com/jadson179/PAINEL/master/frontend/package.json'));case 2:response=_context.sent;setVersion(response.data.version);case 4:case\"end\":return _context.stop();}}});}github();},[]);function Auth(){var _ref,data;return _regeneratorRuntime.async(function Auth$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(username!==''&&password!=='')){_context2.next=6;break;}_context2.next=3;return _regeneratorRuntime.awrap(api.post('/user/auth',{username:username,password:password}));case 3:_ref=_context2.sent;data=_ref.data;if(data.token){sessionStorage.setItem('token',data.token);history.push('/admin');}else{console.log(data);}case 6:case\"end\":return _context2.stop();}}});}return React.createElement(React.Fragment,null,React.createElement(\"div\",{id:\"containerLogin\"},React.createElement(\"div\",{id:\"box-login\"},React.createElement(\"header\",null,React.createElement(\"h2\",null,\"Login\")),React.createElement(\"main\",null,React.createElement(\"input\",{type:\"text\",placeholder:\"Usuario\",onChange:function onChange(username){return setUsername(username.target.value);},autoFocus:true,required:true}),React.createElement(\"input\",{type:\"password\",placeholder:\"Senha\",onChange:function onChange(password){return setPassword(password.target.value);},required:true})),React.createElement(\"div\",{id:\"area-buttons\"},React.createElement(\"button\",{className:\"buttons\",onClick:Auth},\"Acessar\"))),React.createElement(\"span\",null,\"vers\\xE3o: \",version)));}export default Login;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/Login/index.js"],"names":["React","useState","useEffect","history","api","Login","username","setUsername","password","setPassword","version","setVersion","sessionStorage","setItem","github","get","response","data","Auth","post","token","push","console","log","target","value"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CAEA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAO,aAAP,CAEA,QAASC,CAAAA,KAAT,EAAiB,eAEiBJ,QAAQ,CAAC,EAAD,CAFzB,wCAERK,QAFQ,eAEEC,WAFF,8BAGiBN,QAAQ,CAAC,EAAD,CAHzB,yCAGRO,QAHQ,eAGEC,WAHF,8BAIeR,QAAQ,CAAC,EAAD,CAJvB,yCAIRS,OAJQ,eAICC,UAJD,eAMfC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCP,QAAlC,EACAM,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAkCL,QAAlC,EAEAN,SAAS,CAAC,UAAI,CACZ,QAAeY,CAAAA,MAAf,iLACyBV,GAAG,CAACW,GAAJ,CAAQ,iFAAR,CADzB,SACQC,QADR,eAGEL,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAcP,OAAf,CAAV,CAHF,8CAKAI,MAAM,GAEP,CARQ,CAQP,EARO,CAAT,CASF,QAAeI,CAAAA,IAAf,uIACOZ,QAAQ,GAAK,EAAb,EAAmBE,QAAQ,GAAK,EADvC,6EAE2BJ,GAAG,CAACe,IAAJ,CAAS,YAAT,CAAuB,CAAEb,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAvB,CAF3B,6BAEaS,IAFb,MAEaA,IAFb,CAIM,GAAGA,IAAI,CAACG,KAAR,CAAe,CACbR,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAA+BI,IAAI,CAACG,KAApC,EACAjB,OAAO,CAACkB,IAAR,CAAa,QAAb,EACD,CAHD,IAGM,CACJC,OAAO,CAACC,GAAR,CAAYN,IAAZ,EACD,CATP,+CAYI,MACE,yCACA,2BAAK,EAAE,CAAC,gBAAR,EACE,2BAAK,EAAE,CAAC,WAAR,EACE,kCACI,sCADJ,CADF,CAIE,gCACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,SAA/B,CAAyC,QAAQ,CAAE,kBAAAX,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACkB,MAAT,CAAgBC,KAAjB,CAAf,EAA3D,CAAmG,SAAS,KAA5G,CAA6G,QAAQ,KAArH,EADF,CAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,OAAnC,CAA2C,QAAQ,CAAE,kBAAAjB,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAQ,CAACgB,MAAT,CAAgBC,KAAjB,CAAf,EAA7D,CAAqG,QAAQ,KAA7G,EAFF,CAJF,CAQE,2BAAK,EAAE,CAAC,cAAR,EACA,8BAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEP,IAArC,YADA,CARF,CADF,CAaE,8CACWR,OADX,CAbF,CADA,CADF,CAqBH,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\n\nimport history from '../../global/history'\nimport api from '../../services/api'\nimport './style.css'\n\nfunction Login() {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [version, setVersion] = useState('')\n\n  sessionStorage.setItem('username',username)\n  sessionStorage.setItem('password',password)\n\n  useEffect(()=>{\n    async function github(){\n      const response = await api.get('https://raw.githubusercontent.com/jadson179/PAINEL/master/frontend/package.json')\n      \n      setVersion(response.data.version)\n    }\n    github()\n      \n  },[])\nasync function Auth() { \n    if(username !== '' && password !== ''){\n      const {data} = await api.post('/user/auth', { username, password })\n\n      if(data.token) { \n        sessionStorage.setItem('token',data.token)\n        history.push('/admin')\n      }else {\n        console.log(data)\n      }\n    } \n  }\n    return (\n      <>\n      <div id=\"containerLogin\">\n        <div id=\"box-login\">\n          <header>\n              <h2>Login</h2>          \n          </header>\n          <main>\n            <input type=\"text\" placeholder=\"Usuario\" onChange={username => setUsername(username.target.value)} autoFocus required />\n            <input type=\"password\" placeholder=\"Senha\" onChange={password => setPassword(password.target.value)} required />\n          </main>\n          <div id=\"area-buttons\">\n          <button className=\"buttons\" onClick={Auth}>Acessar</button>\n          </div>\n        </div>\n        <span>\n          vers√£o: {version} \n        </span>\n      </div>\n      </>\n    );\n}\n\nexport default Login;\n\n\n"]},"metadata":{},"sourceType":"module"}