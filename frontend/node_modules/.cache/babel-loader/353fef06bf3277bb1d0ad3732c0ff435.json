{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/Downloads/repositories/PAINEL2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import io from'socket.io-client';import api from'../../services/api';import config from'../../config';import handleActionAlert from'../../global/handleActionAlert';import'./style.css';var socket=io(\"\".concat(config.backend.url));function UpdateRoom(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];function handleUpdateRoom(){var form,_ref,data;return _regeneratorRuntime.async(function handleUpdateRoom$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(room!==''&&file!=='')){_context.next=10;break;}form=new FormData();form.append('file',file,file.name);form.append('room',room);console.log(file);_context.next=7;return _regeneratorRuntime.awrap(api.put('/room',form,{headers:{authorization:\"Bearer \".concat(sessionStorage.getItem('token'))}}));case 7:_ref=_context.sent;data=_ref.data;if(data===1){socket.emit('send-image',{data:'send-image'});handleActionAlert(\"Sucesso em Atualizar Sala\",'flex','green');}else{handleActionAlert(\"Falha em Atualizar Sala\",'flex','red');}case 10:case\"end\":return _context.stop();}}});}return React.createElement(\"div\",{id:\"contianerUpdateRoom\"},React.createElement(\"h2\",null,\"Atualizar Sala\"),React.createElement(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"N\\xFAmero da sala\",onChange:function onChange(value){return setRoom(value.target.value);}}),React.createElement(\"input\",{type:\"file\",name:\"file\",onChange:function onChange(value){return setFile(value.target.files[0]);}}),React.createElement(\"p\",{id:\"incorret\"}),React.createElement(\"div\",null,React.createElement(\"button\",{className:\"buttons\",onClick:handleUpdateRoom},\"Enviar\")));}export default UpdateRoom;","map":{"version":3,"sources":["/home/jadson/Downloads/repositories/PAINEL2/frontend/src/components/UpdateRoom/index.js"],"names":["React","useState","io","api","config","handleActionAlert","socket","backend","url","UpdateRoom","room","setRoom","file","setFile","handleUpdateRoom","form","FormData","append","name","console","log","put","headers","authorization","sessionStorage","getItem","data","emit","value","target","files"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CAEA,MAAO,aAAP,CAEA,GAAMC,CAAAA,MAAM,CAAGJ,EAAE,WAAIE,MAAM,CAACG,OAAP,CAAeC,GAAnB,EAAjB,CAGA,QAASC,CAAAA,UAAT,EAAsB,eACMR,QAAQ,CAAC,EAAD,CADd,wCACXS,IADW,eACLC,OADK,8BAEMV,QAAQ,CAAC,EAAD,CAFd,yCAEXW,IAFW,eAELC,OAFK,eAIlB,QAAeC,CAAAA,gBAAf,qJAEQJ,IAAI,GAAK,EAAT,EAAeE,IAAI,GAAK,EAFhC,2BAIcG,IAJd,CAIqB,GAAIC,CAAAA,QAAJ,EAJrB,CAKQD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAmBL,IAAnB,CAAwBA,IAAI,CAACM,IAA7B,EACAH,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBP,IAApB,EACAS,OAAO,CAACC,GAAR,CAAYR,IAAZ,EAPR,iDAQ6BT,GAAG,CAACkB,GAAJ,CAAQ,OAAR,CACrBN,IADqB,CAErB,CACIO,OAAO,CAAE,CACLC,aAAa,kBAAYC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CADR,CADb,CAFqB,CAR7B,4BAQeC,IARf,MAQeA,IARf,CAgBQ,GAAGA,IAAI,GAAK,CAAZ,CAAc,CAEVpB,MAAM,CAACqB,IAAP,CAAY,YAAZ,CAA2B,CAAED,IAAI,CAAE,YAAR,CAA3B,EACArB,iBAAiB,CAAC,2BAAD,CAA6B,MAA7B,CAAoC,OAApC,CAAjB,CACH,CAJD,IAIM,CACFA,iBAAiB,CAAC,yBAAD,CAA2B,MAA3B,CAAkC,KAAlC,CAAjB,CACH,CAtBT,+CAyBA,MACE,4BAAK,EAAE,CAAC,qBAAR,EACG,+CADH,CAEG,6BAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,WAAW,CAAC,mBAAlD,CAAmE,QAAQ,CAAE,kBAAAuB,KAAK,QAAIjB,CAAAA,OAAO,CAACiB,KAAK,CAACC,MAAN,CAAaD,KAAd,CAAX,EAAlF,EAFH,CAGG,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,CAAE,kBAAAA,KAAK,QAAIf,CAAAA,OAAO,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAX,EAA9C,EAHH,CAIG,yBAAG,EAAE,CAAC,UAAN,EAJH,CAKG,+BACI,8BAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEhB,gBAArC,WADJ,CALH,CADF,CAWH,CAED,cAAeL,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport io from 'socket.io-client';\nimport api from '../../services/api'\nimport config from '../../config'\nimport handleActionAlert from '../../global/handleActionAlert'\n\nimport './style.css'\n\nconst socket = io(`${config.backend.url}`)\n\n\nfunction UpdateRoom() {\n    const [room, setRoom] = useState('')  \n    const [file, setFile] = useState('')  \n\n    async function handleUpdateRoom (){\n    \n        if (room !== '' && file !== ''){\n\n            const form = new FormData()\n            form.append('file',file,file.name)\n            form.append('room', room)\n            console.log(file)\n            const {data} = await api.put('/room', \n            form,\n            {\n                headers: {\n                    authorization: `Bearer ${sessionStorage.getItem('token')}`\n                }\n            })\n         \n            if(data === 1){\n               \n                socket.emit('send-image',  { data: 'send-image' } )\n                handleActionAlert(\"Sucesso em Atualizar Sala\",'flex','green')                \n            }else {\n                handleActionAlert(\"Falha em Atualizar Sala\",'flex','red')\n            }\n        }\n    }\n    return (\n      <div id=\"contianerUpdateRoom\">\n         <h2>Atualizar Sala</h2>\n         <input className='inputs' type=\"text\" placeholder=\"NÃºmero da sala\" onChange={value => setRoom(value.target.value)} />\n         <input type=\"file\" name=\"file\" onChange={value => setFile(value.target.files[0])} />\n         <p id=\"incorret\"></p>\n         <div>\n             <button className=\"buttons\" onClick={handleUpdateRoom} >Enviar</button>\n         </div>\n      </div>    \n    );\n}\n\nexport default UpdateRoom;\n\n\n"]},"metadata":{},"sourceType":"module"}