{"ast":null,"code":"import _regeneratorRuntime from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/jadson/repository/PAINEL/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import api from'../../services/api';import Themes from'../../global/Themes';import'./style.css';function AlterPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),verifyPassword=_useState4[0],setVerifyPassword=_useState4[1];function handleAlterPassword(){var response;return _regeneratorRuntime.async(function handleAlterPassword$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password!==''&&verifyPassword!=='')){_context.next=7;break;}_context.next=3;return _regeneratorRuntime.awrap(api.post('/update/user',{username:sessionStorage.getItem('username'),oldPassword:sessionStorage.getItem('password'),password:password}));case 3:response=_context.sent;if(response.data){document.getElementById('submit').innerText='Senha Alterada';document.getElementById('submit').style.cssText=Themes.button.validated;setInterval(function(){document.getElementById('submit').innerText='Enviar';document.getElementById('submit').style.cssText=Themes.button.reset;},300);}else{document.getElementById('submit').innerText=\"Error: \".concat(response.status);document.getElementById('submit').style.cssText=Themes.button.error;}_context.next=8;break;case 7:document.getElementById('incorret').innerText=\"Preencher todos os campos!!\";case 8:case\"end\":return _context.stop();}}});}return React.createElement(\"div\",{id:\"contianerAlterPassword\"},React.createElement(\"h2\",{className:\"titleCreateUser\"},\"Alterar Senha\"),React.createElement(\"input\",{className:\"inputs\",placeholder:\"Nova senha\",type:\"password\",onChange:function onChange(event){return setPassword(event.target.value);}}),React.createElement(\"input\",{className:\"inputs\",placeholder:\"Confirme Nova senha\",type:\"password\",onChange:function onChange(event){return setVerifyPassword(event.target.value);}}),password===verifyPassword&&password!==''&&verifyPassword!==''?React.createElement(\"p\",{id:\"verify\"},\"Senha correta\"):React.createElement(\"p\",{id:\"incorret\"},\"Senha Incorreta\"),React.createElement(\"div\",null,React.createElement(\"button\",{id:\"submit\",onClick:handleAlterPassword},\"Enviar\")));}export default AlterPassword;","map":{"version":3,"sources":["/home/jadson/repository/PAINEL/frontend/src/components/AlterPassword/index.js"],"names":["React","useState","api","Themes","AlterPassword","password","setPassword","verifyPassword","setVerifyPassword","handleAlterPassword","post","username","sessionStorage","getItem","oldPassword","response","data","document","getElementById","innerText","style","cssText","button","validated","setInterval","reset","status","error","event","target","value"],"mappings":"mTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CAEA,MAAO,aAAP,CAGA,QAASC,CAAAA,aAAT,EAAyB,eACWH,QAAQ,CAAC,EAAD,CADnB,wCACfI,QADe,eACLC,WADK,8BAEsBL,QAAQ,CAAC,EAAD,CAF9B,yCAEfM,cAFe,eAECC,iBAFD,eAIrB,QAAeC,CAAAA,mBAAf,kJAEMJ,QAAQ,GAAK,EAAb,EAAmBE,cAAc,GAAK,EAF5C,2EAIyBL,GAAG,CAACQ,IAAJ,CAAS,cAAT,CAAwB,CAAEC,QAAQ,CAAEC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAZ,CAAgDC,WAAW,CAAEF,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAA7D,CAAiGR,QAAQ,CAARA,QAAjG,CAAxB,CAJzB,SAIQU,QAJR,eAME,GAAGA,QAAQ,CAACC,IAAZ,CAAiB,CACfC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,CAA8C,gBAA9C,CACAF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCE,KAAlC,CAAwCC,OAAxC,CAAkDlB,MAAM,CAACmB,MAAP,CAAcC,SAAhE,CAEAC,WAAW,CAAC,UAAI,CACdP,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,CAA8C,QAA9C,CACAF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCE,KAAlC,CAAwCC,OAAxC,CAAkDlB,MAAM,CAACmB,MAAP,CAAcG,KAAhE,CACD,CAHU,CAGT,GAHS,CAAX,CAKD,CATD,IASM,CACJR,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,kBAAwDJ,QAAQ,CAACW,MAAjE,EACAT,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCE,KAAlC,CAAwCC,OAAxC,CAAkDlB,MAAM,CAACmB,MAAP,CAAcK,KAAhE,CACC,CAlBL,6BAoBIV,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,CAAgD,6BAAhD,CApBJ,8CAwBA,MACE,4BAAK,EAAE,CAAC,wBAAR,EACI,0BAAI,SAAS,CAAC,iBAAd,kBADJ,CAEI,6BAAO,SAAS,CAAC,QAAjB,CAA0B,WAAW,CAAC,YAAtC,CAAmD,IAAI,CAAC,UAAxD,CAAmE,QAAQ,CAAE,kBAAAS,KAAK,QAAItB,CAAAA,WAAW,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAf,EAAlF,EAFJ,CAGI,6BAAO,SAAS,CAAC,QAAjB,CAA0B,WAAW,CAAC,qBAAtC,CAA4D,IAAI,CAAC,UAAjE,CAA4E,QAAQ,CAAE,kBAAAF,KAAK,QAAIpB,CAAAA,iBAAiB,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAArB,EAA3F,EAHJ,CAKQzB,QAAQ,GAAKE,cAAd,EAAkCF,QAAQ,GAAK,EAA/C,EAAuDE,cAAc,GAAK,EAA3E,CAAmF,yBAAG,EAAE,CAAC,QAAN,kBAAnF,CAAoH,yBAAG,EAAE,CAAC,UAAN,oBAL1H,CAOI,+BACE,8BAAQ,EAAE,CAAC,QAAX,CAAoB,OAAO,CAAGE,mBAA9B,WADF,CAPJ,CADF,CAaH,CAED,cAAeL,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport api from '../../services/api'\nimport Themes from '../../global/Themes'\n\nimport './style.css'\n\n\nfunction AlterPassword() {\n  const [ password, setPassword ] = useState('')\n  const [ verifyPassword, setVerifyPassword] = useState('')\n\n    async function handleAlterPassword(){\n      \n      if (password !== '' && verifyPassword !== ''){\n\n      const response = await api.post('/update/user',{ username: sessionStorage.getItem('username'), oldPassword: sessionStorage.getItem('password'), password  })\n\n      if(response.data){\n        document.getElementById('submit').innerText = 'Senha Alterada'\n        document.getElementById('submit').style.cssText = Themes.button.validated\n\n        setInterval(()=>{\n          document.getElementById('submit').innerText = 'Enviar'\n          document.getElementById('submit').style.cssText = Themes.button.reset\n        },300)\n        \n      }else {\n        document.getElementById('submit').innerText = `Error: ${response.status}`\n        document.getElementById('submit').style.cssText = Themes.button.error\n        }\n      }else {\n        document.getElementById('incorret').innerText = \"Preencher todos os campos!!\"\n      }\n    }\n\n    return (\n      <div id=\"contianerAlterPassword\">\n          <h2 className=\"titleCreateUser\" >Alterar Senha</h2>\n          <input className='inputs' placeholder=\"Nova senha\" type=\"password\" onChange={event => setPassword(event.target.value)} />\n          <input className='inputs' placeholder=\"Confirme Nova senha\" type=\"password\" onChange={event => setVerifyPassword(event.target.value)} />\n          {\n            ((password === verifyPassword) && (password !== '') && (verifyPassword !== '') ) ? <p id=\"verify\">Senha correta</p>:<p id=\"incorret\">Senha Incorreta</p> \n          }\n          <div>\n            <button id=\"submit\" onClick={ handleAlterPassword} >Enviar</button>\n          </div>\n      </div>\n    );\n}\n\nexport default AlterPassword;\n\n\n"]},"metadata":{},"sourceType":"module"}